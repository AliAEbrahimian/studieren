{% extends "main.html" %}

{% block content %}

<h1>Home Page</h1>
{% if request.user.is_authenticated %}
    <h2>Hello {{ request.user }}</h2>
{% endif %}
<div class="container">
    <div class="row">
        
        <aside id="browse-topics" class="col-lg-2 boxstyle">
            <h3>Browse Topics</h3>
            <a href="{% url 'home'%}">All</a>
            {% for topic in topics %}
                <div>
                    <a href="{% url 'home'%}?q={{topic.name}}">{{topic.name}}</a>
                </div>
            {%endfor%}
        </aside>

    
        <div id="" class="col-lg-10">
            <h5>{{room_count}} Rooms availabale</h5>

            <div class="" id="createroom">
            <a href="{% url 'create-room' %}"><button class="button">Create Room</button></a>
            </div>
            <div>
                {% for room in rooms%}
                    <div id="viewrooms" class="boxstyle">
                        <span>@{{room.host.username}}</span>
                        <h5>{{room.id}} -- <a href="{% url 'room' room.id %}">{{room.name}}</a></h5>
                        <small>{{room.topic.name}}</small>

                        {% if request.user == room.host %}
                        <a href="{% url 'update-room' room.id %}"><button class="button">Edit</button></a>
                        <a href="{% url 'delete-room' room.id %}"><button class="button">Delete</button></a>
                        {% endif %}

                    </div>
                {% endfor%}
            </div>

        </div>
    </div>
</div>


{% endblock %}

